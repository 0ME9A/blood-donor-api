# Blood Donor API

[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Contributions Welcome](https://img.shields.io/badge/Contributions-Welcome-brightgreen.svg)](https://github.com/0me9a/blood-donor-api/blob/main/CONTRIBUTING.md)

This API provides a simple and efficient way to manage a database of blood donors. It allows you to create, retrieve, update, delete, and search donor records based on various criteria. This project is open-source, and contributions are welcome!

## Table of Contents

* [Introduction](#introduction)
* [Getting Started](#getting-started)
    * [Prerequisites](#prerequisites)
    * [Running the Application](#running-the-application)
* [API Endpoints](#api-endpoints)
    * [Creating a Donor](#creating-a-donor)
    * [Retrieving Donors](#retrieving-donors)
        * [Get All Donors](#get-all-donors)
        * [Get Donor by ID](#get-donor-by-id)
        * [Get Donors by Phone Number](#get-donors-by-phone-number)
        * [Search Donors by Blood Group and City](#search-donors-by-blood-group-and-city)
        * [Search Donors by Age](#search-donors-by-age)
        * [Search Donors by Name](#search-donors-by-name)
    * [Updating a Donor (Coming Soon)](#updating-a-donor-coming-soon)
    * [Deleting Donors](#deleting-donors)
        * [Delete Donor by ID](#delete-donor-by-id)
        * [Delete Multiple Donors](#delete-multiple-donors)
* [Contribution](#contribution)
* [License](#license)

## Introduction

This Blood Donor API is built using Java and Spring Boot. It provides a RESTful interface for interacting with donor data stored in a database. The API is designed to be easy to use and integrate into various applications that require blood donor information.

**Should you keep it open source?**

Yes, making your project open source has numerous benefits:

* **Community Contributions:** Allows other developers to contribute bug fixes, new features, and improvements.
* **Transparency:** Makes your project's code publicly viewable, fostering trust.
* **Learning and Growth:** You can learn from the contributions and feedback of others.
* **Wider Adoption:** Open source projects often see wider adoption and usage.

Include a clear `LICENSE` file (like MIT, Apache 2.0) to define the terms under which others can use and contribute to your project.

## Getting Started

### Prerequisites

Before you can run the application, you will need the following:

* **Java Development Kit (JDK):** Make sure you have a compatible JDK installed (e.g., Java 8 or higher).
* **Maven:** This project uses Maven for dependency management and building.
* **Database:** You will need a running database (e.g., PostgreSQL, MySQL) that the application can connect to. Configure the database connection details in the `src/main/resources/application.properties` or `application.yml` file.
* **A REST Client:** Tools like Postman, Insomnia, or `curl` can be used to interact with the API endpoints.

### Running the Application

1.  **Clone the Repository:**
    ```bash
    git clone [https://github.com/0me9a/blood-donor-api.git](https://github.com/0me9a/blood-donor-api.git)
    cd blood-donor-api
    ```

2.  **Configure Database:**
    Open `src/main/resources/application.properties` or `application.yml` and configure your database connection details:
    ```properties
    spring.datasource.url=jdbc:your-database-type://localhost:your-port/your-database-name
    spring.datasource.username=your-username
    spring.datasource.password=your-password
    spring.jpa.hibernate.ddl-auto=update # Or create, validate, none depending on your needs
    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.YourDialect # e.g., org.hibernate.dialect.PostgreSQLDialect
    ```

3.  **Build the Application:**
    ```bash
    mvn clean install
    ```

4.  **Run the Application:**
    ```bash
    mvn spring-boot:run
    ```

    The API will typically start on `http://localhost:8080`.

## API Endpoints

All API endpoints are prefixed with `/api/donors`.

### Creating a Donor

**Endpoint:** `POST /api/donors`

**Request Body (JSON):**

```json
{
  "name": "John Doe",
  "gender": "Male",
  "age": 30,
  "bloodGroup": "O+",
  "city": "New York",
  "phone": "123-456-7890",
  "lastDonated": "2024-03-15"
}
````

**Response (JSON - Status 200 OK):**

```json
{
  "id": 101,
  "name": "John Doe",
  "gender": "Male",
  "age": 30,
  "bloodGroup": "O+",
  "city": "New York",
  "phone": "123-456-7890",
  "lastDonated": "2024-03-15",
  "created_at": "2025-04-19T06:30:00.000+00:00"
}
```

The `id` and `created_at` will be automatically generated by the server.

### Retrieving Donors

#### Get All Donors

**Endpoint:** `GET /api/donors`

**Response (JSON - Status 200 OK):**

```json
[
  {
    "id": 101,
    "name": "John Doe",
    "gender": "Male",
    "age": 30,
    "bloodGroup": "O+",
    "city": "New York",
    "phone": "123-456-7890",
    "lastDonated": "2024-03-15",
    "created_at": "2025-04-19T06:30:00.000+00:00"
  },
  // ... more donors
]
```

#### Get Donor by ID

**Endpoint:** `GET /api/donors/{id}`

**Path Variable:** `{id}` - The unique ID of the donor (a number).

**Example URL:** `http://localhost:8080/api/donors/101`

**Response (JSON - Status 200 OK if found, 404 Not Found if not found):**

```json
{
  "id": 101,
  "name": "John Doe",
  "gender": "Male",
  "age": 30,
  "bloodGroup": "O+",
  "city": "New York",
  "phone": "123-456-7890",
  "lastDonated": "2024-03-15",
  "created_at": "2025-04-19T06:30:00.000+00:00"
}
```

#### Get Donors by Phone Number

**Endpoint:** `GET /api/donors/phone/{phone}`

**Path Variable:** `{phone}` - The phone number of the donor (a string).

**Example URL:** `http://localhost:8080/api/donors/phone/123-456-7890`

**Response (JSON - Status 200 OK if found, 404 Not Found if not found):**

```json
[
  {
    "id": 101,
    "name": "John Doe",
    "gender": "Male",
    "age": 30,
    "bloodGroup": "O+",
    "city": "New York",
    "phone": "123-456-7890",
    "lastDonated": "2024-03-15",
    "created_at": "2025-04-19T06:30:00.000+00:00"
  }
  // ... potentially more donors with the same phone number (if allowed)
]
```

#### Search Donors by Blood Group and City

**Endpoint:** `GET /api/donors/search`

**Query Parameters:**

  * `bloodGroup` (required) - The blood group to search for (e.g., "A+", "O-").
  * `city` (required) - The city to search in (e.g., "New York", "London").

**Example URL:** `http://localhost:8080/api/donors/search?bloodGroup=A+&city=Mumbai`

**Response (JSON - Status 200 OK):**

```json
[
  {
    "id": 105,
    "name": "Jane Smith",
    "gender": "Female",
    "age": 25,
    "bloodGroup": "A+",
    "city": "Mumbai",
    "phone": "987-654-3210",
    "lastDonated": "2025-01-10",
    "created_at": "2025-04-19T06:35:00.000+00:00"
  }
  // ... more matching donors
]
```

#### Search Donors by Age

**Endpoint:** `GET /api/donors/age/{ageCriteria}`

**Path Variable:** `{ageCriteria}` - Specifies the age or age range to search for.

  * **Single Age:** `/api/donors/age/30` (find donors exactly 30 years old)
  * **Age Range:** `/api/donors/age/25-35` (find donors between 25 and 35 years old, inclusive)
  * **Multiple Specific Ages:** `/api/donors/age/20-28-40` (find donors who are 20, 28, or 40 years old)

**Response (JSON - Status 200 OK):**

```json
[
  {
    "id": 101,
    "name": "John Doe",
    "gender": "Male",
    "age": 30,
    "bloodGroup": "O+",
    "city": "New York",
    "phone": "123-456-7890",
    "lastDonated": "2024-03-15",
    "created_at": "2025-04-19T06:30:00.000+00:00"
  }
  // ... more matching donors
]
```

#### Search Donors by Name

**Endpoint:** `GET /api/donors/name/{name}`

**Path Variable:** `{name}` - The name or a part of the name to search for (case-insensitive).

**Example URLs:**

  * `/api/donors/name/john` (find donors whose name contains "john")
  * `/api/donors/name/doe` (find donors whose name contains "doe")
  * `/api/donors/name/joh d` (find donors whose name contains "joh d")

**Response (JSON - Status 200 OK):**

```json
[
  {
    "id": 101,
    "name": "John Doe",
    "gender": "Male",
    "age": 30,
    "bloodGroup": "O+",
    "city": "New York",
    "phone": "123-456-7890",
    "lastDonated": "2024-03-15",
    "created_at": "2025-04-19T06:30:00.000+00:00"
  }
  // ... more matching donors
]
```

### Updating a Donor (Coming Soon)

This functionality to update existing donor records will be added in a future version.

### Deleting Donors

#### Delete Donor by ID

**Endpoint:** `DELETE /api/donors/{id}`

**Path Variable:** `{id}` - The unique ID of the donor to delete.

**Example URL:** `http://localhost:8080/api/donors/101`

**Response (Status 204 No Content on successful deletion).**

#### Delete Multiple Donors

**Endpoint:** `DELETE /api/donors/delete-many`

**Request Body (JSON):** An array of donor IDs to delete.

```json
[102, 103, 104]
```

**Response (Status 204 No Content on successful deletion).**

## Contribution

We welcome contributions from the developer community\! If you'd like to contribute to this project, please follow these steps:

1.  **Fork the repository** on GitHub.
2.  **Create a new branch** for your feature or bug fix.
3.  **Make your changes** and ensure they follow the project's coding standards.
4.  **Write tests** for your changes.
5.  **Commit your changes** with clear and concise commit messages.
6.  **Push your branch** to your forked repository.
7.  **Submit a pull request** to the main repository.

Please refer to our [CONTRIBUTING.md](https://www.google.com/url?sa=E&source=gmail&q=https://github.com/0me9a/blood-donor-api/blob/main/CONTRIBUTING.md) file for more detailed contribution guidelines.

## License

This project is licensed under the [MIT License](https://opensource.org/licenses/MIT). See the [LICENSE](https://www.google.com/search?q=https://github.com/0me9a/blood-donor-api/blob/main/LICENSE) file for more information.
